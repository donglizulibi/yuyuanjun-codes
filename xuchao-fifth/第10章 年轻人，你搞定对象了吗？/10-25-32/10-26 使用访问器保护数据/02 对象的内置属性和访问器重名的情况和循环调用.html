<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 如果访问器的名称和对象中已有的属性重名，则会出现循环调用的现象

        // 通俗的说就是，get age函数的return后面是this.age
        // 而set age又是中的age其实就是this.age
        // 所以会出现循环调用

        // let obj = {
        //     name: 'haha',
        //     age: 19,
        //     set age(value) {
        //         if (value < 0) {
        //             this.age = value
        //         }
        //     },
        //     get age() {
        //         return this.age
        //     }
        // }

        // obj.age = -1
        // console.log(obj.age)


        // 一种解决办法就是把另外设置一个访问器的名字
        let obj = {
            name: 'haha',
            age: 19,
            set age1(value) {
                if (value < 0) {
                    this.age = value
                }
            },
            get age1() {
                return this.age
            }
        }

        obj.age1 = -1
        console.log(obj.age1)

        // 也可以把属性放在一个私有属性中
        // 比如把name和age都放在data里面
        // 调用的时候就调用this.data.age 和 this.data.name
        // 见10-30 02
    </script>
</body>

</html>