<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
</head>

<body>
    <div>
        <button>使用request发送GET请求</button>
        <button>使用request发送POST请求</button>
        <hr>
        <button>使用post内置方法发送POST请求</button>
    </div>
    <script>
        let btns = document.querySelectorAll('button')
        console.log(btns)

        // 上一个例子发送请求的方法是把请求的配置放在一个对象里
        // 再作为参数放进axios里的

        // 而axios本身作为对象还有一些内置方法可以调用

        // 在文档中的config配置在后面介绍 

        // 使用request发送get请求
        btns[0].onclick = function() {
            axios.request({
                method: "get",
                url: "http://127.0.0.1:3003/comments"
            }).then(response => {
                console.log(response)
            })
        }

        // 发送POST请求来添加一篇文章
        btns[1].onclick = function() {
            axios.request({
                method: "post",
                url: "http://127.0.0.1:3003/comments",
                data: {
                    body: '这是一条评论',
                    postId: 2
                }
            }).then(response => {
                console.log(response)
            })
        }

        // 使用post内置方法发送POST请求
        // 配置中第一个参数是接口地址，第二个参数是请求体
        // 直接在方法中填入参数，不用放在一个对象里
        // 添加数据也不用写data，id同样不用写
        btns[2].onclick = function() {
            axios.post(
                "http://127.0.0.1:3003/comments", {
                    body: '这是一条评论',
                    postId: 3
                }
            ).then(response => {
                console.log(response)
            })
        }


        // axios的其他可以用来发送请求的内置方法
        console.dir(axios)
    </script>
</body>

</html>