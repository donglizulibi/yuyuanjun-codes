<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 1 fetch的基本用法

        //   fetch的第一个参数用来放请求地址和请求参数，默认是get方法

        //   使用fetch发送请求需要在后面连续接两个then
        //   第一个then接收到的参数是一个Response对象
        //   可以调用这个对象的json，或者text，或者blob方法
        //   来规定在下一个then中返回的具体数据的格式
        fetch(`https://restapi.amap.com/v3/weather/weatherInfo?key=c342b2076be1211ad014ed7fe7c1751f&city=370202&extensions=all`)
            .then(response => {
                console.log(response)
                return response.json()
            })
            .then(articles => {
                console.log(articles)
            })

        // 2 async await方法
        //   把两个then变成两个await
        //   在第二个await中调用json方法
        async function query() {
            const response = await fetch(`https://restapi.amap.com/v3/weather/weatherInfo?key=c342b2076be1211ad014ed7fe7c1751f&city=370202&extensions=all`)
            const articles = await response.json()
            console.log(articles)
        }
        query()
    </script>
</body>

</html>