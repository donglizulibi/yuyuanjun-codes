<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 定义三个构造函数，并要求在一个for of循环里遍历这个三个构造函数的实例
        // 并打印出实例中的方法

        // 这里是先定义一个父级构造函数，里面有一个方法，方法体内是调用当前this指向的一个方法
        // 然后定义是三个子级构造函数来继承这个构造函数
        // 三个子级构造函数都设定一个同名的方法，那么在调用父级的方法的时候
        // 就可以实现三个构造函数的实例化对象是调用同一个名字的方法
        // 但是返回各自特性的结果

        function User() {}
        User.prototype.show = function() {
            console.log(this.description())
        }

        function Admin() {}
        Admin.prototype = Object.create(User.prototype)
        Admin.prototype.description = function() {
            // Admin.prototype.showAdmin = function() {
            return '管理员'
        }

        function Member() {}
        Member.prototype = Object.create(User.prototype)
        Member.prototype.description = function() {
            // Member.prototype.showMember = function() {
            return '普通会员'
        }

        function Enterprise() {}
        Enterprise.prototype = Object.create(User.prototype)
            // Enterprise.prototype.showEnterprise = function() {
        Enterprise.prototype.description = function() {
            return '企业会员'
        }

        for (let obj of[new Admin(), new Member(), new Enterprise()]) {

            console.log(obj)
            obj.show()

            // 不使用多态的话
            // if (obj instanceof Admin) {
            //     console.log(obj.showAdmin())
            // } else if (obj instanceof Member) {
            //     console.log(obj.showMember())
            // } else if (obj instanceof Enterprise) {
            //     console.log(obj.showEnterprise())
            // }
        }
    </script>
</body>

</html>