<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>
    <style>
        body,
        #main,
        #div1,
        #div2,
        #h1 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        #main {
            height: 200px;
            width: 400px;
            border: 2px solid black;
        }
        
        #div1 {
            height: 120px;
            width: 280px;
            border: 2px solid blue;
        }
        
        #div2 {
            height: 80px;
            width: 180px;
            border: 2px solid green;
        }
        
        #h1 {
            height: 40px;
            width: 80px;
            border: 2px solid red;
            font-size: 15px;
        }
    </style>
    <main id="main">main
        <div id="div1">div1
            <div id="div2">div2
                <h1 id="h1">h1

                </h1>
            </div>
        </div>
    </main>
    <script>
        console.log(document.querySelector('main').children)

        function query(el) {
            let arr = []
            arr.push(el)
            if (el.children[0]) {
                arr.push(...query(el.children[0]))
            }
            return arr
        }

        let [main, div1, div2, h1, h2] = query(document.querySelector('main'))

        main.addEventListener('click', click1)
        div1.addEventListener('click', click2)
        div2.addEventListener('click', click3)
        h1.addEventListener('click', click4)

        function click1(e) {
            console.log(e.target.id)
            console.log(e.currentTarget.id)
            console.log('')
        }

        // e.stopPropagation()加到哪一层，冒泡就在哪一层停止
        function click2(e) {
            console.log(e.target.id)
            console.log(e.currentTarget.id)
            console.log('')
        }

        function click3(e) {
            e.stopPropagation();
            console.log(e.target.id)
            console.log(e.currentTarget.id)
            console.log('')
        }

        function click4(e) {
            // e.stopPropagation();
            console.log(e.target.id)
            console.log(e.currentTarget.id)
            console.log('')
        }
    </script>
</body>

</html>